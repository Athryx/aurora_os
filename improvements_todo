improve the kernel heap allocator, it is very bad


improve memory mapping api to not require strong reference, not require cap to be in that same process
maybe don't have 1 mapping restriction on resize in place

add support to memory mapping syscalls that allow mapping at some offset into the memory capability
extend memory_update_mapping to support moving the base address and changing mapping flags
maybe merge memory_resize and memory_update_mapping syscalls


seperate process into a few different things
currently it is an:
address space
capability space
group of threads

clean up ownership of capabilities in userspace
(it can be hard to reason about, if a capability is in your process or remote process, or when it should be dropped)


add guard pages at the end of kernel stacks


update orderings on all atomics to use minimum needed ordering


fix oom panics that could happen in scheduler


bitflags for all syscall options
maybe look into enumflags2


change to use relative call instructions instead of absolute call with register
this option is called code model
should set vma to 0xffffffff80000000, and use mcmodel kernel


use Size type from bit_utils in more places in kernel


use strum for enum convert from int


remove as much unsafe as possible
put safety comments wherever unsafe is used
document old code
run auto formatter
add tests
logging

maybe: figure out why disk image is so big?